<!DOCTYPE html>
<html>
<head>
    <title><%= typeof title !== 'undefined' ? title : 'Panel de Control' %></title>
    <link rel="stylesheet" href="/css/styles.css">
    <% if (typeof extraHead !== 'undefined') { %>
        <%- extraHead %>
    <% } %>
</head>
<body>
    <div class="background-slider"></div>
    <nav>
        <% if (typeof user !== 'undefined' && user && !(typeof isAdmin !== 'undefined' && isAdmin)) { %>
            <span>Bienvenido, <%= user.names %> <%= user.surnames %></span>
            <a href="/dashboard">Dashboard</a>
            <a href="/farms">Mis Fincas</a>
            <a href="/api/auth/logout">Cerrar sesión</a>
        <% } %>
    </nav>
    <div class="dashboard-main">
        <%- body %>
    </div>
    <% if (typeof extraScripts !== 'undefined') { %>
        <%- extraScripts %>
    <% } %>
    <script>
    const images = [
        '/img/ganado 2.jpg',
        '/img/ganado 3.jpg',
        '/img/2.jpg',
        '/img/ganado1.jpg',
        '/img/ganado2.jpg'
        // Agrega aquí más imágenes si tienes más en la carpeta img
    ];
    let current = 0;
    const slider = document.querySelector('.background-slider');
    function changeBackground() {
        slider.style.backgroundImage = `url('${images[current]}')`;
        current = (current + 1) % images.length;
    }
    changeBackground();
    setInterval(changeBackground, 4000);
    </script>
</body>
</html>
